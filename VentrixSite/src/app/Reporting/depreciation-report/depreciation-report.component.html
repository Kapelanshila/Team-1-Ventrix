<div class = "body">
    <app-navigation></app-navigation>
    <div class="container-xl">
        <div class="table-responsive" >
            <div class="table-wrapper" >
                <br>
                <div *ngIf="selectedAsset == null" class="table-title">
                    <h2 style="text-align: center;">Asset Depreciation Report</h2>
                </div>	
                <div *ngIf="selectedAsset != null" class="table-title">
                    <h2 style="text-align: center;">Asset Depreciation Report</h2>
                </div>	
              <br>
              <div class="row">
                <div *ngIf="selectedAsset != null" class="col-6">
                    <label>Select Asset:</label>
                    <ng-select (change)="gatherdata()" style="width: 300px;" [ngModelOptions]="{standalone: true}" [(ngModel)]="selectedAsset">
                        <ng-option *ngFor="let asset of assets" [value]="asset">{{asset.name}} - {{asset.value | currency:'R'}}</ng-option>
                    </ng-select>
                </div>
                <div *ngIf="selectedAsset == null" style="margin: auto;">
                    <label>Select Asset:</label>
                    <ng-select (change)="gatherdata()" style="width: 300px;" [ngModelOptions]="{standalone: true}" [(ngModel)]="selectedAsset">
                        <ng-option *ngFor="let asset of assets" [value]="asset">{{asset.name}} - {{asset.value |currency:'R'}}</ng-option>
                    </ng-select>
                </div>
                <div *ngIf="selectedAsset != null" class="col-6">
                    <button style="width: 300px; margin-top: 1%; float: right;" class="btn btn-dark btn-block" (click)="openPDF()"><i class="fa fa-arrow-down" aria-hidden="true"></i> Download PDF</button>
                    <button style="width: 300px; margin-top: 1%; float: right;" class="btn btn-success btn-block" (click)="generateExcel()"><i class="fa fa-file-excel-o" aria-hidden="true"></i> Export Report</button>
                </div>
             </div>
             <br>
             <br>
             <br>
             <br>
             <br>
             <div *ngIf="selectedAsset != null">
                <div>
                <h6 *ngIf="selectedAsset != null" style="text-align: center; color: blue;">Depreciation Rate {{this.depreciation.percentage}}%</h6>
                <h5 style="text-align: center;">Depreciation Report</h5>
                <br>                    
                <h6 style="text-align: left; font-weight: normal; float: left;">Generated By: {{account.name}} {{account.surname}}</h6>
                <h6 style="text-align: right; font-weight: normal; float: right;">Date: {{date | date}}</h6>
                <div  id="htmlData" *ngIf="selectedAsset != null" class="chart-wrapper">
                <canvas baseChart
                    [datasets]="lineChartData"
                    [labels]="lineChartLabels"
                    [options]="lineChartOptions"
                    [colors]="lineChartColors"
                    [legend]="lineChartLegend"
                    [chartType]="lineChartType"
                    [plugins]="lineChartPlugins">
                </canvas>
                <br>
                </div>   
                </div>
                <div style="text-align: center;"><img src="assets/images/Akquize.png"></div>
            </div>   
        </div>
    </div>   
</div>
