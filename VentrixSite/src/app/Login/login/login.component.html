<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

<div class = "body">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-9 col-lg-12 col-xl-10" style="margin-top: 70px;">
                <div class="card shadow-lg o-hidden border-0 my-5" >
                    <div class="card-body p-0">
                        <div class="row">
                            <div class="col-lg-6 d-none d-lg-flex">
                                <div class="flex-grow-1 bg-login-image" style="background-image: url(&quot;assets/images/DJCS.jpg&quot;); background-size: cover;  background-size: cover; background-position-x: center; background-position-y: center;"></div>
                            </div>
                            <div class="col-lg-6">
                                <div class="p-5" style="text-align: center;">
                                    <div class="text-center">
                                        <h4 class="text-dark mb-4">Welcome Back!</h4>
                                    </div>
                                    <form [formGroup]="loginform" (ngSubmit)="login()">
                                        <div *ngIf="submitted">
                                            <span *ngIf="f['emailAddress'].errors?.['required'] || f['emailAddress'].errors?.['noWhitespaceValidator']" class="text-danger" >Please enter an email address</span>
                                        </div>
                                        <div class="mb-3"><input class="form-control" formControlName = "emailAddress"  type="emailAdress" id="exampleInputEmail" aria-describedby="emailHelp" placeholder="Enter Email Address" name="email"></div>
                                        <div *ngIf="submitted">
                                            <span *ngIf="f['hashedPassword'].errors?.['required'] || f['hashedPassword'].errors?.['noWhitespaceValidator']" class="text-danger" >Please enter a password</span>
                                        </div>
                                        <div class="mb-3"><input class="form-control form-control-user" formControlName = "hashedPassword"  id="exampleInputPassword" placeholder="Password" name="password" type="password"></div>
                                        <div class="mb-3">
                                            <div class="custom-control custom-checkbox small"></div>
                                        </div><button class="btn btn-primary d-block btn-user w-100" type="submit">Login</button>
                                        <hr>
                                    </form>
                                    <div class="text-center"><a class="small" href="javascript:void(0);" (click)="openPopup()">Forgot Password?</a></div>
                                    <div class="text-center"><a class="small"  href="javascript:void(0);" (click)="register() ">Register your Account!</a></div><img src="assets/images/Akquize.png">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Select Option Modal -->
        <div
        class="modal"
        tabindex="-2"
        role="dialog"
        [ngStyle]="{'display':displayStyle}">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" style="margin: auto;">Reset Password</h4>
            </div>
            <div class="modal-body">
                <div id="container">
                <br>
                <button type="button" class="btn btn-primary" (click)= "updateDetails()" >
                Forgot Email + Password
                </button>
                <br>
                <br>
                <button type="button" class="btn btn-dark" (click)="openPasswordPopup()">
                  Forgot Password
                </button>
                <br>
                <br>
                <button type="button" class="btn btn-danger" (click)="updatePassword()"                        
                (click)="closePopup()">
                    Cancel
                </button>
                <br>
                <br>
            </div>
            </div>
        </div>
    </div>
    </div>

    <!-- Reset Password Modal -->
    <div
    class="modal"
    tabindex="-1"
    role="dialog"
    [ngStyle]="{'display':pdisplayStyle}">
        <div class="modal-dialog" role="document">
            <div class="modal-content password">
            <div class="modal-header">
                <h4 class="modal-title">Reset Password</h4>
            </div>
            <div class="modal-body">
                <form [formGroup]="resetform">
                <label>Email</label>
                <input class="form-control" formControlName = "email"  type="text">
                <br>
                <label>Password</label>
                <input class="form-control" formControlName = "hashedPassword"  type="password">
                <app-password-strength [passwordToCheck]="resetform.value.hashedPassword" (passwordStrength)="passwordValid($event)"></app-password-strength>
                <label>Re-enter Password</label>
                <input class="form-control" formControlName = "password"  type="password" placeholder="Re-enter Password" name="password">
            </form>  
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" 
                        (click)="closePasswordPopup()">
                Close
                </button>
                <button type="button" class="btn btn-primary" [disabled]="!passwordIsValid" (click)="updatePassword()">
                    Next
                </button>
            </div>
        </div>
    </div>
    </div>
     <!-- Reset Password Modal -->
    <div
    class="modal"
    tabindex="-1"
    role="dialog"
    [ngStyle]="{'display':pdisplayStyle}">
    <div class="modal-dialog" role="document">
        <div class="modal-content password">
        <div class="modal-header">
            <h4 class="modal-title">Reset Password</h4>
        </div>
        <div class="modal-body">
            <form [formGroup]="resetform">
            <label>Email</label>
            <input class="form-control" formControlName = "email"  type="text">
            <br>
            <label>Password</label>
            <input class="form-control" formControlName = "hashedPassword"  type="password">
            <app-password-strength [passwordToCheck]="resetform.value.hashedPassword" (passwordStrength)="passwordValid($event)"></app-password-strength>
            <label>Re-enter Password</label>
            <input class="form-control" formControlName = "password"  type="password" placeholder="Re-enter Password" name="password">
        </form>  
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-danger" 
                    (click)="closePasswordPopup()">
            Close
            </button>
            <button type="button" class="btn btn-primary" [disabled]="!passwordIsValid" (click)="updatePassword()">
                Next
            </button>
        </div>
    </div>
  </div>
  </div>
</div>
<script src="assets/theme.js"></script>
<script src="assets/bootstrap.min.js"></script>
